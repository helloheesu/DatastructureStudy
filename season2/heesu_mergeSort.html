<!--DOCTYPE html-->
<html>
<head>
<title>Sort It</title>
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
$(function() {
  $("form").submit(function (e) {
    e.preventDefault();
    var container = $(this).closest('.container');
    var inputString = container.find("input[type='text']").val();
    var array = toIntArray(inputString);
    mergeSort(array, 0, array.length-1);
    container.find("span").text(array);
  });
});

function toIntArray(string) {
  var array = string.split(/[^\d]/);
  for (var i = 0 ; i < array.length ; i++) {
    array[i] = parseInt(array[i]);
  }
  return array;
}

function mergeSort(array, startIdx, endIdx) {
  if(startIdx >= endIdx) {
    return;
  }
  var divideIdx = startIdx + ~~((endIdx-startIdx)/2);
  mergeSort(array, startIdx, divideIdx);
  mergeSort(array, divideIdx +1, endIdx);
  return merge(array, startIdx, divideIdx, divideIdx +1, endIdx);
}

function merge(array, aStart, aEnd, bStart, bEnd) { // bStart = aEnd + 1
  var result = [], aIdx = aStart, bIdx = bStart;
  while(aIdx <= aEnd || bIdx <= bEnd) {
    if (bIdx <= bEnd && (aIdx >= aEnd || array[aIdx] >= array[bIdx])) {
      result.push(array[bIdx]);
      bIdx++;
    } else {
      result.push(array[aIdx]);
      aIdx++;
    }
  }
  spliceArray(array, aStart, bEnd+1, result);
}

function spliceArray(originalArray, start, end, replaceArray) {
  for (var i = 0; i < end-start; i++) {
    originalArray[i + start] = replaceArray[i];
  }
}
</script>
</head>

<body>
<div class="container">
<form>
<input type="text"><input type="submit" value="Sort It!"><br>
<span></span>
</form>
</div>
</body>

</html>